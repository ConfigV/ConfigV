apk ¦add¦--update¦bash¦curl¦tar¦nodejs :: Dependencies_operation,()
from,openjdk:8.0
tar ¦xzf¦kibana-${KIBANA_VERSION}-linux-x86_64.tar.gz¦-C¦${KIBANA_HOME}¦--strip-components=1 :: Filesystem_operation,()
logstash.conf${LOGSTASH_HOME}/config/ :: copy_operation,()
entrypoint,/docker-entrypoint.sh
LOGSTASH_HOME:/opt/logstash :: env_operation,()
PATH:${JAVA_HOME}/bin:${ES_HOME}/bin:${LOGSTASH_HOME}/bin:${KIBANA_HOME}/bin:$PATH :: env_operation,()
${ES_HOME}/data :: volume_operation,()
curl ¦-L¦-O¦https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-${ES_VERSION}.tar.gz :: Dependencies_operation,()
curl ¦-L¦-O¦https://artifacts.elastic.co/downloads/logstash/logstash-${LOGSTASH_VERSION}.tar.gz :: Dependencies_operation,()
chown ¦-R¦elk:elk¦${KIBANA_HOME} :: Permissions_operation,()
LOGSTASH_VERSION:5.0.1 :: env_operation,()
mkdir ¦-p¦${KIBANA_HOME} :: Filesystem_operation,()
adduser ¦-D¦-S¦elk¦-s¦/bin/bash¦-h¦${ES_HOME}¦-g¦"ELK¦service¦user"¦-G¦elk :: Permissions_operation,()
KIBANA_VERSION:5.0.1 :: env_operation,()
ES_HOME:/opt/elasticsearch :: env_operation,()
expose,9200 9300 5044 5601
TINI_VERSION:v0.10.0 :: env_operation,()
curl ¦-L¦-O¦https://artifacts.elastic.co/downloads/kibana/kibana-${KIBANA_VERSION}-linux-x86_64.tar.gz :: Dependencies_operation,()
addgroup ¦elk :: Permissions_operation,()
tar ¦xzf¦elasticsearch-${ES_VERSION}.tar.gz¦-C¦${ES_HOME}¦--strip-components=1 :: Filesystem_operation,()
tar ¦xzf¦logstash-${LOGSTASH_VERSION}.tar.gz¦-C¦${LOGSTASH_HOME}¦--strip-components=1 :: Filesystem_operation,()
rm ¦-f¦logstash-${LOGSTASH_VERSION}.tar.gz :: Filesystem_operation,()
mktemp ¦-d :: Other_operation,()
ES_VERSION:5.0.1 :: env_operation,()
KIBANA_HOME:/opt/kibana :: env_operation,()
chmod ¦+x¦/docker-entrypoint.sh :: Permissions_operation,()
docker-entrypoint.sh/ :: copy_operation,()
rm ¦-rf¦/var/cache/apk/* :: Filesystem_operation,()
set ¦-x :: Environment_operation,()
rm ¦-rf¦elasticsearch-${ES_VERSION}.tar.gz :: Filesystem_operation,()
mkdir ¦-p¦${LOGSTASH_HOME} :: Filesystem_operation,()
chown ¦-R¦elk:elk¦${ES_HOME} :: Permissions_operation,()
mkdir ¦-p¦${ES_HOME} :: Filesystem_operation,()
for ¦path¦in¦${ES_HOME}/data¦${ES_HOME}/logs¦${ES_HOME}/config¦${ES_HOME}/config/scripts¦;¦do¦mkdir¦-p¦"$path";¦done :: Other_operation,()
server\\.port:  :: Other_operation,()
GOSU_VERSION:1.9 :: env_operation,()
rm ¦-f¦kibana-${KIBANA_VERSION}-linux-x86_64.tar.gz :: Filesystem_operation,()
chown ¦-R¦elk:elk¦${LOGSTASH_HOME} :: Permissions_operation,()
