Resources.AWS::IAM::AccessKey.Properties.UserName,{u'Ref': u'BoshAwsUser'}
Outputs.BoshAwsSecretAccessKey.Value,"{u'Fn::GetAtt': [u'BoshAwsAccessKey', u'SecretAccessKey']}"
Outputs.BoshAwsSecretAccessKey.Description,Bosh Broker Access Key
Resources.AWS::IAM::ManagedPolicy.Properties.PolicyDocument.Version,2012-10-17
Outputs.DirectorInstanceProfile.Value,{u'Ref': u'DirectorInstanceProfile'}
Parameters.DeploymentName.Type,String
Outputs.BlobstoreBucketAccessInstanceProfile.Value,{u'Ref': u'BlobstoreBucketAccessInstanceProfile'}
Outputs.BlobstoreBackupBucketAccessInstanceProfile.Description,Blobstore & Backup S3 Bucket Access Instance Profile
Parameters.DeploymentName.MaxLength,16
Resources.AWS::IAM::Role.Properties.Path,{u'Fn::Sub': u'/Cloudfoundry/Cloudformation/${DeploymentName}/'}
Parameters.DeploymentName.Description,Deployment Name
Resources.AWS::IAM::Role.Type,AWS::IAM::Role
Resources.AWS::IAM::User.Type,AWS::IAM::User
Outputs.BoshAwsAccessKeyId.Value,{u'Ref': u'BoshAwsAccessKey'}
Outputs.CompileNodesBucketAccessInstanceProfile.Description,Compile Nodes S3 Bucket Access Instance Profile
Parameters.DeploymentName.AllowedPattern,^([A-Za-z0-9]+[A-Za-z0-9-]?)+[A-Za-z0-9]$
Outputs.BlobstoreBucketAccessInstanceProfile.Description,Blobstore S3 Bucket Access Instance Profile
Outputs.CcBucketAccessInstanceProfile.Description,Cloudcontroller S3 Bucket Access Instance Profile
Outputs.DirectorInstanceProfile.Description,Director Instance Profile
Resources.AWS::IAM::InstanceProfile.Type,AWS::IAM::InstanceProfile
Resources.AWS::IAM::AccessKey.Type,AWS::IAM::AccessKey
Resources.AWS::IAM::Role.Properties.Policies,"[{u'PolicyName': {u'Fn::Sub': u'${DeploymentName}-CcBucketAccess'}, u'PolicyDocument': {u'Version': u'2012-10-17', u'Statement': [{u'Action': [u's3:ListBucket', u's3:ListBucketVersions', u's3:ListBucketMultipartUploads'], u'Resource': [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-BlobstoreBucketArn'}}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-BuildpackBucketArn'}}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-DropletBucketArn'}}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-PackageBucketArn'}}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-ResourceBucketArn'}}], u'Effect': u'Allow'}, {u'Action': [u's3:DeleteObject', u's3:DeleteObjectVersion', u's3:GetObject', u's3:GetObjectVersion', u's3:PutObject'], u'Resource': [{u'Fn::Join': [u'', [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-BlobstoreBucketArn'}}, u'/*']]}, {u'Fn::Join': [u'', [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-BuildpackBucketArn'}}, u'/*']]}, {u'Fn::Join': [u'', [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-DropletBucketArn'}}, u'/*']]}, {u'Fn::Join': [u'', [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-PackageBucketArn'}}, u'/*']]}, {u'Fn::Join': [u'', [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-ResourceBucketArn'}}, u'/*']]}], u'Effect': u'Allow'}]}}]"
Resources.AWS::IAM::ManagedPolicy.Properties.PolicyDocument.Statement,"[{u'Action': [u'ec2:*'], u'Resource': u'*', u'Effect': u'Allow'}, {u'Action': [u'cloudwatch:PutMetricData'], u'Resource': u'*', u'Effect': u'Allow'}, {u'Action': [u'elasticloadbalancing:DeregisterInstancesFromLoadBalancer', u'elasticloadbalancing:RegisterInstancesWithLoadBalancer'], u'Resource': [{u'Fn::Join': [u'', [{u'Fn::Sub': u'arn:aws:elasticloadbalancing:${AWS::Region}:${AWS::AccountId}:loadbalancer/'}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-CfSshElb'}}]]}, {u'Fn::Join': [u'', [{u'Fn::Sub': u'arn:aws:elasticloadbalancing:${AWS::Region}:${AWS::AccountId}:loadbalancer/'}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-DirectorElb'}}]]}], u'Effect': u'Allow'}, {u'Action': [u'elasticloadbalancing:AddTags', u'elasticloadbalancing:RemoveTags'], u'Resource': [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-ApplicationElbTargetGroupTcp80Arn'}}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-ApplicationElbTargetGroupTcp443Arn'}}, {u'Fn::Join': [u'', [{u'Fn::Sub': u'arn:aws:elasticloadbalancing:${AWS::Region}:${AWS::AccountId}:loadbalancer/'}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-CfSshElb'}}]]}, {u'Fn::Join': [u'', [{u'Fn::Sub': u'arn:aws:elasticloadbalancing:${AWS::Region}:${AWS::AccountId}:loadbalancer/'}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-DirectorElb'}}]]}], u'Effect': u'Allow'}, {u'Action': [u'elasticloadbalancing:CreateListener', u'elasticloadbalancing:CreateRule', u'elasticloadbalancing:CreateTargetGroup', u'elasticloadbalancing:DeleteListener', u'elasticloadbalancing:DeleteRule', u'elasticloadbalancing:DeleteTargetGroup', u'elasticloadbalancing:DeregisterTargets', u'elasticloadbalancing:DescribeInstanceHealth', u'elasticloadbalancing:DescribeListeners', u'elasticloadbalancing:DescribeLoadBalancerAttributes', u'elasticloadbalancing:DescribeLoadBalancerPolicyTypes', u'elasticloadbalancing:DescribeLoadBalancers', u'elasticloadbalancing:DescribeLoadBalancerPolicies', u'elasticloadbalancing:DescribeRules', u'elasticloadbalancing:DescribeSSLPolicies', u'elasticloadbalancing:DescribeTargetGroups', u'elasticloadbalancing:DescribeTargetGroupAttributes', u'elasticloadbalancing:DescribeTargetHealth', u'elasticloadbalancing:DescribeTags', u'elasticloadbalancing:ModifyListener', u'elasticloadbalancing:ModifyRule', u'elasticloadbalancing:ModifyTargetGroup', u'elasticloadbalancing:ModifyTargetGroupAttributes', u'elasticloadbalancing:RegisterTargets', u'elasticloadbalancing:SetIpAddressType', u'elasticloadbalancing:SetRulePriorities', u'elasticloadbalancing:SetSubnets'], u'Resource': u'*', u'Effect': u'Allow'}, {u'Action': [u'events:*'], u'Resource': u'arn:aws:events:*:*:*', u'Effect': u'Allow'}, {u'Action': [u'logs:CreateLogGroup', u'logs:CreateLogStream', u'logs:PutLogEvents', u'logs:DescribeLogStreams'], u'Resource': u'arn:aws:logs:*:*:*', u'Effect': u'Allow'}, {u'Action': [u'iam:GetUser'], u'Resource': u'*', u'Effect': u'Allow'}, {u'Action': [u'iam:PassRole'], u'Resource': [{u'Fn::GetAtt': [u'BlobstoreBackupBucketAccessRole', u'Arn']}, {u'Fn::GetAtt': [u'BlobstoreBucketAccessRole', u'Arn']}, {u'Fn::GetAtt': [u'CcBucketAccessRole', u'Arn']}, {u'Fn::GetAtt': [u'CompileNodesBucketAccessRole', u'Arn']}], u'Effect': u'Allow'}, {u'Action': [u's3:ListBucket', u's3:ListBucketVersions', u's3:ListBucketMultipartUploads'], u'Resource': [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-BackupBucketArn'}}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-BlobstoreBucketArn'}}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-CompiledPackageCacheBucketArn'}}, {u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-DirectorBackupBucketArn'}}], u'Effect': u'Allow'}, {u'Action': [u's3:DeleteObject', u's3:DeleteObjectVersion', u's3:GetObject', u's3:GetObjectVersion', u's3:PutObject'], u'Resource': [{u'Fn::Join': [u'', [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-BackupBucketArn'}}, u'/*']]}, {u'Fn::Join': [u'', [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-BlobstoreBucketArn'}}, u'/*']]}, {u'Fn::Join': [u'', [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-CompiledPackageCacheBucketArn'}}, u'/*']]}, {u'Fn::Join': [u'', [{u'Fn::ImportValue': {u'Fn::Sub': u'${DeploymentName}-DirectorBackupBucketArn'}}, u'/*']]}], u'Effect': u'Allow'}]"
Resources.AWS::IAM::Role.Properties.AssumeRolePolicyDocument.Statement,"[{u'Action': [u'sts:AssumeRole'], u'Effect': u'Allow', u'Principal': {u'Service': [u'ec2.amazonaws.com']}}]"
Resources.AWS::IAM::User.Properties.Policies,"[{u'PolicyName': {u'Fn::Sub': u'${DeploymentName}-DirectorPassRolePolicy'}, u'PolicyDocument': {u'Version': u'2012-10-17', u'Statement': [{u'Action': [u'iam:PassRole'], u'Resource': {u'Fn::GetAtt': [u'DirectorRole', u'Arn']}, u'Effect': u'Allow'}]}}]"
Resources.AWS::IAM::Role.Properties.AssumeRolePolicyDocument.Version,2012-10-17
Resources.AWS::IAM::ManagedPolicy.Properties.Users,[{u'Ref': u'BoshAwsUser'}]
Resources.AWS::IAM::User.Properties.Path,{u'Fn::Sub': u'/Cloudfoundry/Cloudformation/${DeploymentName}/'}
Resources.AWS::IAM::ManagedPolicy.Type,AWS::IAM::ManagedPolicy
Resources.AWS::IAM::ManagedPolicy.Properties.Roles,[{u'Ref': u'DirectorRole'}]
Outputs.BlobstoreBackupBucketAccessInstanceProfile.Value,{u'Ref': u'BlobstoreBackupBucketAccessInstanceProfile'}
Parameters.DeploymentName.ConstraintDescription,Must be a valid domain label matching /^([A-Za-z0-9]+[A-Za-z0-9-])+[A-Za-z0-9]$/
Outputs.CcBucketAccessInstanceProfile.Value,{u'Ref': u'CcBucketAccessInstanceProfile'}
Outputs.CompileNodesBucketAccessInstanceProfile.Value,{u'Ref': u'CompileNodesBucketAccessInstanceProfile'}
Outputs.BoshAwsAccessKeyId.Description,Bosh Access Key Id
Parameters.DeploymentName.MinLength,1
Resources.AWS::IAM::InstanceProfile.Properties.Roles,[{u'Ref': u'BlobstoreBucketAccessRole'}]
