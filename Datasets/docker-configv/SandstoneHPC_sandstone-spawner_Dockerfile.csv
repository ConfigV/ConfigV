cp ¦/home/sandstone/jh-venv/bin/jupyterhub-singleuser¦/usr/bin :: Filesystem_operation,()
npm ¦install¦-g¦npm@2 :: Dependencies_operation,()
echo ¦echo¦"c.Spawner.http_timeout = 120" >> $JUPYTERHUB_CONFIG :: Filesystem_operation,()
useradd ¦-m¦sandstone1 :: Permissions_operation,()
source ¦jh-venv/bin/activate :: Environment_operation,()
which ¦python :: Other_operation,()
echo ¦echo¦"import os" > $SANDSTONE_CONFIG :: Filesystem_operation,()
which ¦python3.5 :: Other_operation,()
echo ¦echo¦"sandstone2:sandstone2" | chpasswd :: Filesystem_operation,()
JH_BIN=/home/sandstone/jh-venv/bin/jupyterhub: :: env_operation,()
apt-get ¦install¦-y¦build-essential¦python-dev¦python-pip¦virtualenv¦nodejs¦nodejs-legacy¦npm¦python-yaml¦git :: Dependencies_operation,()
echo ¦echo¦"URL_PREFIX=os.environ.get('SANDSTONE_PREFIX', '')" :: Filesystem_operation,()
JUPYTERHUB_CONFIG=/home/sandstone/jupyterhub_config.py: :: env_operation,()
cd ¦../wrapspawner :: Filesystem_operation,()
SANDSTONE_CONFIG=/home/sandstone/.config/sandstone/sandstone_settings.py: :: env_operation,()
pip ¦install¦jupyterhub :: Dependencies_operation,()
git ¦clone¦https://github.com/SandstoneHPC/sandstone-ide.git :: Dependencies_operation,()
mkdir ¦-p¦/home/sandstone/ :: Filesystem_operation,()
apt-get ¦update :: Dependencies_operation,()
npm ¦install¦-g¦configurable-http-proxy :: Dependencies_operation,()
git ¦clone¦https://github.com/SandstoneHPC/sandstone-spawner.git :: Dependencies_operation,()
cd ¦sandstone-spawner :: Filesystem_operation,()
expose,8000
git ¦clone¦https://github.com/jupyterhub/wrapspawner.git :: Dependencies_operation,()
python ¦setup.py¦install :: Build_Execute_operation,()
PATH=$PATH:/home/sandstone/jh-env/bin: :: env_operation,()
pip ¦install¦jupyter :: Dependencies_operation,()
SANDSTONE_APP_PATH=/home/sandstone/sandstone-venv/bin/sandstone-jupyterhub: :: env_operation,()
org.jupyter.service:jupyterhub :: label_operation,()
cmd,/bin/bash¦-c¦$JH_BIN¦--config¦$JUPYTERHUB_CONFIG
SANDSTONE_SETTINGS=/home/sandstone/.config/sandstone/sandstone_settings.py: :: env_operation,()
/home/sandstone :: workdir_operation,()
ln ¦-sf¦/bin/bash¦/bin/sh :: Filesystem_operation,()
echo ¦echo¦"c.JupyterHub.spawner_class = 'wrapspawner.ProfilesSpawner'" > $JUPYTERHUB_CONFIG :: Filesystem_operation,()
echo ¦echo¦"c.ProfilesSpawner.profiles = [( 'Jupyter Notebook', 'local', 'jupyterhub.spawner.LocalProcessSpawner',{'ip':'0.0.0.0'} ),('Sandstone', 'sandstone','sandstone_spawner.spawner.SandstoneSpawner', {}),]" >> $JUPYTERHUB_CONFIG :: Filesystem_operation,()
echo ¦echo¦"INSTALLED_APPS=('sandstone.lib', 'sandstone.apps.codeeditor', 'sandstone.apps.filebrowser', 'sandstone.apps.webterminal',)" >> $SANDSTONE_CONFIG :: Filesystem_operation,()
echo ¦echo¦"LOGIN_HANDLER='sandstone_jupyterhub_login.handlers.JupyterHubLoginHandler'" >> $SANDSTONE_CONFIG :: Filesystem_operation,()
echo ¦echo¦"sandstone1:sandstone1" | chpasswd :: Filesystem_operation,()
git ¦clone¦https://github.com/SandstoneHPC/sandstone-jupyterhub-login.git :: Dependencies_operation,()
from,ubuntu:16.04
mkdir ¦-p¦/home/sandstone/.config/sandstone/ :: Filesystem_operation,()
useradd ¦-m¦sandstone2 :: Permissions_operation,()
