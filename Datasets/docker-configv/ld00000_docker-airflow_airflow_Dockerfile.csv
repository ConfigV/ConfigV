from,ubuntu:14.04
script/entrypoint.sh${AIRFLOW_HOME}/entrypoint.sh :: copy_operation,()
conf/airflow.cfg${AIRFLOW_HOME}/airflow.cfg :: copy_operation,()
TZ=Asia/Shanghai: :: env_operation,()
echo ¦echo¦y | apt-get install python3-dev python-pip python-dev :: Filesystem_operation,()
groupadd ¦-r¦airflow :: Permissions_operation,()
echo ¦(echo¦"airflow";sleep 1;echo "airflow") | passwd airflow > /dev/null :: Filesystem_operation,()
AIRFLOW_HOME:/airflow :: env_operation,()
apt-get ¦clean :: Dependencies_operation,()
${AIRFLOW_HOME} :: workdir_operation,()
mv ¦/etc/apt/sources.list¦/etc/apt/sources.list.bak :: Filesystem_operation,()
echo ¦echo¦y | apt-get install python2.7 :: Filesystem_operation,()
chmod ¦+x¦${AIRFLOW_HOME}/entrypoint.sh :: Permissions_operation,()
expose,8080 5555 8793
apt-get ¦--purge¦-y¦autoremove :: Dependencies_operation,()
echo ¦ln¦-snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone :: Filesystem_operation,()
apt-get ¦autoclean :: Dependencies_operation,()
conf/163-sources.list/etc/apt/sources.list :: add_operation,()
apt-get ¦update :: Dependencies_operation,()
chown ¦-R¦airflow:¦${AIRFLOW_HOME} :: Permissions_operation,()
wget ¦https://bootstrap.pypa.io/get-pip.py¦--no-check-certificate :: Dependencies_operation,()
easy_install ¦-U¦setuptools :: Dependencies_operation,()
rm ¦-fr¦/var/lib/apt/lists/*¦/tmp/*¦/var/tmp/*¦/usr/share/man¦/usr/share/doc¦/usr/share/doc-base :: Filesystem_operation,()
echo ¦echo¦y | apt-get install libxml2-dev libxslt1-dev zlib1g-dev libevent-dev libmysqlclient-dev libkrb5-dev libsasl2-dev libssl-dev libffi-dev build-essential libblas-dev liblapack-dev curl :: Filesystem_operation,()
entrypoint,./entrypoint.sh
echo ¦echo¦y | apt-get install wget :: Filesystem_operation,()
rm ¦-rf¦/var/lib/apt/lists/*¦/tmp/*¦/var/tmp/* :: Filesystem_operation,()
airflow :: user_operation,()
useradd ¦-r¦-g¦airflow¦airflow :: Permissions_operation,()
