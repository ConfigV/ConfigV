touch ¦/aws/logs.conf :: Filesystem_operation,()
sed ¦-i¦"s/#\\$ModLoad¦imudp/\\$ModLoad¦imudp/"¦/etc/rsyslog.conf :: Filesystem_operation,()
sed ¦-i¦"s/#\\$InputTCPServerRun¦514/\\$InputTCPServerRun¦514/"¦/etc/rsyslog.conf :: Filesystem_operation,()
bootboot :: add_operation,()
LOG_LOCATION:/var/log/cloudwatch.log :: env_operation,()
from,ubuntu@trusty
wget ¦--progress=bar:force¦--retry-connrefused¦-t¦5¦https://github.com/kelseyhightower/confd/releases/download/v${CONFD_VERSION}/confd-${CONFD_VERSION}-linux-amd64¦-O¦/bin/confd :: Dependencies_operation,()
python ¦awslogs-agent-setup.py¦-n¦-r¦${AWS_REGION}¦-c¦/aws/logs.conf :: Build_Execute_operation,()
apt-get ¦-y¦-q¦dist-upgrade :: Dependencies_operation,()
CONFD_VERSION:0.10.0 :: env_operation,()
sed ¦-i¦"s/authpriv.none/authpriv.none,local6.none,local7.none/"¦/etc/rsyslog.d/50-default.conf :: Filesystem_operation,()
etc/confd/etc/confd :: add_operation,()
AWS_REGION:us-east-1 :: env_operation,()
apt-get ¦-y¦-q¦install¦rsyslog¦python-setuptools¦python-pip¦curl¦wget :: Dependencies_operation,()
sed ¦-i¦"s/#\\$UDPServerRun¦514/\\$UDPServerRun¦514/"¦/etc/rsyslog.conf :: Filesystem_operation,()
pip ¦install¦supervisor :: Dependencies_operation,()
expose,514 514
cmd,./boot
CLOUDWATCH_LOG_GROUP:default :: env_operation,()
apt-get ¦-q¦update :: Dependencies_operation,()
chmod ¦+x¦/bin/confd :: Permissions_operation,()
echo ¦echo¦"if$syslogfacility-text == 'local6' then ${LOG_LOCATION}" >> /etc/rsyslog.d/http.conf &&  echo "if$syslogfacility-text == 'local6' then ~" >> /etc/rsyslog.d/http.conf :: Filesystem_operation,()
sed ¦-i¦"s/#\\$ModLoad¦imtcp/\\$ModLoad¦imtcp/"¦/etc/rsyslog.conf :: Filesystem_operation,()
/aws :: workdir_operation,()
DEBIAN_FRONTEND:noninteractive :: env_operation,()
curl ¦https://s3.amazonaws.com/aws-cloudwatch/downloads/latest/awslogs-agent-setup.py¦-o¦awslogs-agent-setup.py :: Dependencies_operation,()
